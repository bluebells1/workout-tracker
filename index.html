<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workout Tracker</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="description" content="Personal Workout Tracker">
    <meta name="theme-color" content="#2563eb">
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        // Complete Exercise Reference Data
        const exerciseGuide = {
            warmup: [
                {
                    name: "Cat-Cow Stretches",
                    instructions: [
                        "Start on hands and knees, wrists under shoulders, knees under hips",
                        "Cow: Drop belly, lift chest and tailbone, gentle arch in back", 
                        "Cat: Round spine toward ceiling, tuck chin to chest, engage abs",
                        "Move slowly and smoothly between positions"
                    ]
                },
                {
                    name: "Hip Circles", 
                    instructions: [
                        "Hands and knees position",
                        "Keep hands planted, circle hips clockwise then counterclockwise",
                        "Keep core engaged, move from hips not lower back"
                    ]
                },
                {
                    name: "Glute Bridges",
                    instructions: [
                        "Lie on back, knees bent, feet flat on floor hip-width apart",
                        "Squeeze glutes and push hips up until straight line from knees to shoulders", 
                        "Hold 1-2 seconds at top, lower slowly"
                    ]
                }
            ],
            routineA: [
                {
                    name: "Banded Clamshells",
                    instructions: [
                        "Lie on side with band around thighs, just above knees",
                        "Keep feet together, open top knee against band resistance",
                        "Focus on glute contraction, not hip flexor",
                        "Keep core engaged to prevent rolling backward"
                    ]
                },
                {
                    name: "Single-leg Glute Bridges",
                    instructions: [
                        "Same setup as regular bridge, extend one leg straight",
                        "Push through heel of planted foot",
                        "Keep hips level throughout movement",
                        "Switch legs between sets"
                    ]
                },
                {
                    name: "Goblet Squats", 
                    instructions: [
                        "Hold kettlebell at chest level with both hands",
                        "Feet slightly wider than shoulder-width",
                        "Sit back and down, keeping chest up and weight in heels",
                        "Descend until thighs parallel or as deep as comfortable",
                        "Drive through heels to stand"
                    ]
                },
                {
                    name: "Lateral Lunges",
                    instructions: [
                        "Step wide to one side, sit back into that hip",
                        "Keep other leg straight, toe pointing up", 
                        "Push off with bent leg to return to center",
                        "Can hold kettlebell for extra resistance"
                    ]
                },
                {
                    name: "Deep Squat Hold",
                    instructions: [
                        "Feet slightly wider than shoulders, toes turned out",
                        "Descend into deepest comfortable squat",
                        "Keep chest up, weight evenly distributed",
                        "Can hold onto something for balance if needed"
                    ]
                },
                {
                    name: "90/90 Hip Stretch",
                    instructions: [
                        "Sit with front leg at 90 degrees, back leg at 90 degrees",
                        "Lean forward over front leg, then lean back toward back leg",
                        "Switch sides by rotating to face the other direction"
                    ]
                },
                {
                    name: "Hamstring Stretch",
                    instructions: [
                        "Seated: Sit with one leg extended, reach toward toes",
                        "Standing: Place heel on low surface, hinge forward",
                        "Supine: Lie back, pull one leg toward ceiling",
                        "Hold for 30 seconds each"
                    ]
                },
                {
                    name: "Deep Resting Squat",
                    instructions: [
                        "Same as Deep Squat Hold - sit in deepest comfortable squat",
                        "Let gravity help you settle deeper into the position",
                        "Breathe deeply and relax into the stretch",
                        "This is a resting/recovery position, not active exercise"
                    ]
                },
                {
                    name: "Hip Flexor Stretch",
                    instructions: [
                        "Kneeling lunge position - back knee on ground",
                        "Front foot planted, knee at 90 degrees",
                        "Push hips forward to feel stretch in front of back leg",
                        "Keep torso upright, don't lean forward",
                        "Hold and switch sides"
                    ]
                },
                {
                    name: "Seated Spinal Twist",
                    instructions: [
                        "Sit with legs extended, cross one leg over",
                        "Place opposite elbow against raised knee",
                        "Gently rotate spine away from crossed leg",
                        "Keep chest lifted, breathe into the twist",
                        "Hold and switch sides"
                    ]
                },
                {
                    name: "Arm Swings",
                    instructions: [
                        "Stand with feet hip-width apart",
                        "Swing arms in large circles forward and backward",
                        "Keep movement controlled and smooth",
                        "Gradually increase range of motion",
                        "Great for warming up shoulders"
                    ]
                },
                {
                    name: "Leg Swings",
                    instructions: [
                        "Hold wall or support for balance",
                        "Swing one leg forward and back in controlled motion",
                        "Keep torso upright, don't lean into the movement",
                        "Can also do side-to-side swings",
                        "Switch legs after completing set"
                    ]
                },
                {
                    name: "Neck Rolls",
                    instructions: [
                        "Sit or stand with shoulders relaxed",
                        "Slowly roll head in a circle - forward, side, back, side",
                        "Move very slowly and gently",
                        "Stop if you feel any pain or dizziness",
                        "Reverse direction halfway through"
                    ]
                },
                {
                    name: "Bodyweight Squats",
                    instructions: [
                        "Stand with feet shoulder-width apart",
                        "Sit back and down as if sitting in a chair",
                        "Keep chest up, knees track over toes",
                        "Descend until thighs parallel to floor",
                        "Drive through heels to stand up"
                    ]
                },
                {
                    name: "Pigeon Pose",
                    instructions: [
                        "From hands and knees, bring one knee forward toward same-side wrist",
                        "Extend back leg straight behind you",
                        "Square hips toward the floor",
                        "Fold forward over front leg for deeper stretch",
                        "Feel stretch in hip and glute of front leg"
                    ]
                },
                {
                    name: "Arm Circles",
                    instructions: [
                        "Stand with arms extended out to sides at shoulder height",
                        "Make small circles, gradually increasing size",
                        "Do both forward and backward circles",
                        "Keep movements controlled and smooth",
                        "Great for shoulder warm-up and mobility"
                    ]
                },
                {
                    name: "Doorway Chest Stretch",
                    instructions: [
                        "Stand in doorway with forearm against frame at shoulder height",
                        "Step forward gently until you feel stretch across chest",
                        "Hold for 30 seconds on each side",
                        "Targets pectorals and anterior deltoids",
                        "Keep shoulder blade pulled back"
                    ]
                },
                {
                    name: "Corner Wall Stretch",
                    instructions: [
                        "Stand facing corner with hands flat against both walls",
                        "Place hands at shoulder height",
                        "Lean forward slowly to stretch both sides of chest",
                        "Good for opening up entire chest area",
                        "Control the stretch, don't force it"
                    ]
                },
                {
                    name: "Clasped Hands Behind Back",
                    instructions: [
                        "Interlace fingers behind your back",
                        "Gently lift arms away from body",
                        "Keep chest up and shoulders back",
                        "Stretches chest while improving posture",
                        "Don't force the range of motion"
                    ]
                },
                {
                    name: "Cross-Body Arm Stretch",
                    instructions: [
                        "Pull one arm across your chest",
                        "Use opposite hand to gently press arm closer to body",
                        "Feel stretch in outer chest and shoulder",
                        "Hold and switch arms",
                        "Keep shoulders relaxed"
                    ]
                },
                {
                    name: "Lying Chest Opener",
                    instructions: [
                        "Lie on back with arms out in T-shape, palms up",
                        "Let gravity naturally stretch your chest",
                        "Can place foam roller or towel under spine for deeper stretch",
                        "Breathe deeply and relax into the position",
                        "Hold for 1-2 minutes"
                    ]
                },
                {
                    name: "Walking High Knees",
                    instructions: [
                        "March in place or move forward",
                        "Bring knees up toward chest level",
                        "Keep core engaged and posture upright",
                        "Swing arms naturally with the movement",
                        "Great for warming up hip flexors and core"
                    ]
                },
                {
                    name: "Torso Twists",
                    instructions: [
                        "Stand with feet shoulder-width apart",
                        "Keep arms loose at your sides",
                        "Rotate torso side to side",
                        "Let arms swing naturally with the movement",
                        "Keep hips facing forward, twist from the waist"
                    ]
                },
                {
                    name: "Inchworms",
                    instructions: [
                        "Start standing, bend forward and place hands on ground",
                        "Walk hands out to plank position",
                        "Hold plank briefly, then walk feet toward hands",
                        "Return to standing and repeat",
                        "Great full-body warm-up movement"
                    ]
                },
                {
                    name: "Overhead Shoulder Stretch",
                    instructions: [
                        "Reach one arm overhead, bend at elbow",
                        "Use other hand to gently pull elbow behind head",
                        "Feel stretch along tricep and shoulder",
                        "Hold and switch sides",
                        "Great for shoulders after overhead work"
                    ]
                },
                {
                    name: "Standing Quad Stretch",
                    instructions: [
                        "Pull heel toward glutes, hold ankle",
                        "Use wall for balance if needed",
                        "Keep knees close together",
                        "Feel stretch in front of thigh",
                        "Hold and switch legs"
                    ]
                },
                {
                    name: "Standing Forward Fold with Bent Knees",
                    instructions: [
                        "Stand with feet hip-width apart",
                        "Bend knees slightly and fold forward",
                        "Let arms hang heavy toward ground",
                        "Gentle sway side to side",
                        "Relaxes entire posterior chain"
                    ]
                },
                {
                    name: "Standing Figure-4 Hip Stretch",
                    instructions: [
                        "Place ankle on opposite knee",
                        "Sit back slightly to stretch glute and hip",
                        "Use wall for balance if needed",
                        "Feel stretch in outer hip and glute",
                        "Switch sides"
                    ]
                },
                {
                    name: "Quadruped Thoracic Rotation",
                    instructions: [
                        "Start on hands and knees",
                        "Reach one arm under body and across to opposite side",
                        "Then reverse by reaching same arm up toward ceiling",
                        "Follow the movement with your eyes",
                        "Creates rotation through thoracic spine"
                    ]
                },
                {
                    name: "Cat-Cow Thoracic Focus",
                    instructions: [
                        "Start on hands and knees",
                        "Emphasize movement through mid-back rather than entire spine",
                        "Focus on flexion and extension of thoracic vertebrae",
                        "Keep neck neutral, concentrate on mid-back",
                        "Slower, more controlled than regular cat-cow"
                    ]
                },
                {
                    name: "Open Book Stretch",
                    instructions: [
                        "Lie on side with knees bent, arms extended together",
                        "Open top arm like opening a book",
                        "Follow the movement with your eyes",
                        "Feel rotation through thoracic spine",
                        "Return slowly and switch sides"
                    ]
                },
                {
                    name: "Bird Dogs",
                    instructions: [
                        "Start on hands and knees",
                        "Extend opposite arm and leg simultaneously",
                        "Hold briefly, focusing on balance and core stability",
                        "Return to start and switch to other arm/leg",
                        "Keep hips level, don't let them rotate"
                    ]
                },
                {
                    name: "Plank Variations",
                    instructions: [
                        "Standard Plank: Forearms and toes, straight line from head to heels",
                        "High Plank: Hands and toes, push-up position hold",
                        "Side Plank: On side, forearm down, body in straight line",
                        "Plank with Leg Lifts: Standard plank, lift one leg at a time",
                        "Plank to Downward Dog: Move between plank and downward dog",
                        "Modified: Drop to knees to reduce intensity",
                        "Choose variation based on your current strength level"
                    ]
                },
                {
                    name: "Box Step-ups with Knee Drive",
                    instructions: [
                        "Step up onto box or bench with one foot",
                        "Drive opposite knee up toward chest at the top",
                        "Step down with control, same leg that stepped up goes down first",
                        "Focus on explosive power going up",
                        "Use box height that allows 90-degree knee angle"
                    ]
                },
                {
                    name: "Lateral Bounds",
                    instructions: [
                        "Stand on one leg, push off laterally to opposite side",
                        "Land on outside foot, absorbing impact with bent knee",
                        "Pause briefly for balance before pushing back",
                        "Focus on distance and controlled landing",
                        "Great for lateral power and ankle stability"
                    ]
                }
            ],
            routineB: [
                {
                    name: "Wall Slides",
                    instructions: [
                        "Stand with back against wall, arms in 'goal post' position",
                        "Slide arms up wall while maintaining contact",
                        "Focus on keeping lower back against wall"
                    ]
                },
                {
                    name: "Band Pull-aparts",
                    instructions: [
                        "Hold resistance band with arms extended at shoulder height",
                        "Pull band apart by squeezing shoulder blades together", 
                        "Control the return, don't let band snap back"
                    ]
                },
                {
                    name: "Kettlebell Swings",
                    instructions: [
                        "Feet hip-width apart, kettlebell between legs",
                        "Hinge at hips (not knees), swing KB to eye level",
                        "Drive with hips and glutes, not arms",
                        "Keep core tight, chest up throughout"
                    ]
                },
                {
                    name: "Push-ups",
                    instructions: [
                        "Start in plank position, hands slightly wider than shoulders",
                        "Lower chest to floor (or as low as comfortable)",
                        "Push up maintaining straight line from head to heels",
                        "Modify on knees if needed"
                    ]
                },
                {
                    name: "Bear Crawl",
                    instructions: [
                        "Start on hands and knees, lift knees 1-2 inches off ground",
                        "Step forward with opposite hand and foot simultaneously",
                        "Keep hips level, core engaged",
                        "Small steps, controlled movement"
                    ]
                },
                {
                    name: "Dead Hangs",
                    instructions: [
                        "Hang from pull-up bar with arms fully extended",
                        "Engage shoulders slightly (don't hang completely passive)",
                        "Build up time gradually",
                        "Bend knees if needed to avoid touching ground"
                    ]
                },
                {
                    name: "Doorway Chest Stretch",
                    instructions: [
                        "Place forearm on doorframe, step forward with same-side foot",
                        "Feel stretch across chest and front of shoulder",
                        "Vary arm height for different angles"
                    ]
                },
                {
                    name: "Upper Trap Stretch",
                    instructions: [
                        "Tilt head to one side, pull with same-side hand",
                        "Opposite hand can reach toward floor to increase stretch",
                        "Hold gently, no forcing"
                    ]
                },
                {
                    name: "Thoracic Spine Rotation",
                    instructions: [
                        "On hands and knees, place one hand behind head",
                        "Rotate that elbow toward ceiling, follow with eyes",
                        "Return to start, repeat on same side before switching"
                    ]
                }
            ],
            routineC: [
                {
                    name: "Jump Squats",
                    instructions: [
                        "Start in squat position",
                        "Explode up, leaving ground with both feet",
                        "Land softly in squat position",
                        "Focus on soft landing, absorbing impact"
                    ]
                },
                {
                    name: "Crab Walks",
                    instructions: [
                        "Sit with hands behind you, lift hips up",
                        "Walk forward/backward/sideways on hands and feet",
                        "Keep hips elevated throughout"
                    ]
                },
                {
                    name: "Russian Twists",
                    instructions: [
                        "Sit with knees bent, lean back slightly",
                        "Hold kettlebell or bodyweight",
                        "Rotate side to side, touching weight/hands to ground beside hips",
                        "Keep chest up, core engaged"
                    ]
                },
                {
                    name: "Plank to Downward Dog",
                    instructions: [
                        "Start in plank position",
                        "Push hips up and back into downward dog",
                        "Return to plank with control",
                        "Keep hands planted throughout"
                    ]
                },
                {
                    name: "Child's Pose to Cobra Flow",
                    instructions: [
                        "Start in child's pose (knees wide, arms extended forward)",
                        "Slide forward into cobra pose (hips down, chest up)",
                        "Flow back to child's pose",
                        "Move slowly and with breath"
                    ]
                }
            ],
            gymLower: [
                {
                    name: "Romanian Deadlifts (RDLs)",
                    instructions: [
                        "Feet hip-width apart, barbell in hands",
                        "Hinge at hips, push butt back, keep slight knee bend",
                        "Lower bar along legs until good hamstring stretch",
                        "Drive hips forward to return to standing",
                        "Keep chest up, shoulders back throughout"
                    ]
                },
                {
                    name: "Bulgarian Split Squats",
                    instructions: [
                        "Rear foot elevated on bench, front foot planted",
                        "Lower into lunge position, front thigh parallel to floor",
                        "Drive through front heel to return to start",
                        "Most weight should be on front leg"
                    ]
                },
                {
                    name: "Hip Thrusts",
                    instructions: [
                        "Upper back against bench, feet flat on floor",
                        "Barbell across hips (use pad for comfort)",
                        "Squeeze glutes to drive hips up",
                        "Create straight line from knees to shoulders at top",
                        "Pause briefly at top"
                    ]
                },
                {
                    name: "Walking Lunges",
                    instructions: [
                        "Step forward into lunge, both knees at 90 degrees",
                        "Push off back foot to step into next lunge",
                        "Keep torso upright, core engaged",
                        "Can hold dumbbells for extra resistance"
                    ]
                },
                {
                    name: "Single-leg RDL",
                    instructions: [
                        "Stand on one leg, other leg extends behind as you hinge forward",
                        "Reach toward ground with opposite hand",
                        "Feel stretch in standing leg hamstring",
                        "Return to upright position, balance briefly"
                    ]
                },
                {
                    name: "Calf Raises",
                    instructions: [
                        "Stand with balls of feet on raised surface (step, platform)",
                        "Let heels drop below the level of your toes for stretch",
                        "Rise up onto toes as high as possible",
                        "Lower slowly with control",
                        "Can be done with bodyweight or holding weights"
                    ]
                }
            ],
            gymUpper: [
                {
                    name: "Deadlifts",
                    instructions: [
                        "Feet hip-width apart, bar over mid-foot",
                        "Hinge at hips and knees to grab bar",
                        "Drive through heels, keep bar close to body",
                        "Stand tall with shoulders back",
                        "Reverse movement to lower"
                    ]
                },
                {
                    name: "Pull-ups/Lat Pulldowns",
                    instructions: [
                        "Pull-ups: Hang from bar, pull chest to bar",
                        "Pulldowns: Lean back slightly, pull bar to upper chest",
                        "Focus on pulling with lats, not just arms",
                        "Control the negative portion"
                    ]
                },
                {
                    name: "Overhead Press",
                    instructions: [
                        "Feet hip-width apart, core braced",
                        "Press weight straight up from shoulder level",
                        "Keep ribs down, don't arch back excessively",
                        "Lower with control to shoulder level"
                    ]
                },
                {
                    name: "Bent-over Rows",
                    instructions: [
                        "Hinge at hips, chest up, slight knee bend",
                        "Pull weight to lower ribs/upper abdomen",
                        "Squeeze shoulder blades together at top",
                        "Keep neutral spine throughout"
                    ]
                },
                {
                    name: "Face Pulls",
                    instructions: [
                        "Cable at face height, rope attachment",
                        "Pull rope to face, separate hands at end",
                        "Focus on rear delts and rhomboids",
                        "Keep elbows high throughout movement"
                    ]
                },
                {
                    name: "Farmer's Walks",
                    instructions: [
                        "Heavy weight in each hand (dumbbells or farmer's handles)",
                        "Walk with upright posture, core engaged",
                        "Take controlled steps, don't rush",
                        "Focus on grip strength and posture"
                    ]
                }
            ],
            gymPower: [
                {
                    name: "Clean & Press",
                    instructions: [
                        "Deadlift weight, then explosively pull to shoulder level",
                        "Catch in front squat position, then press overhead",
                        "Complex movement - start light to refresh technique",
                        "Can substitute with hang cleans if more comfortable"
                    ]
                },
                {
                    name: "Front Squats",
                    instructions: [
                        "Bar across front of shoulders, elbows high",
                        "Keep chest up, core tight",
                        "Descend until thighs parallel (or comfortable depth)",
                        "Drive through heels to stand"
                    ]
                },
                {
                    name: "Push-ups to T",
                    instructions: [
                        "Perform push-up, then rotate to side plank",
                        "Reach top arm toward ceiling",
                        "Return to plank, perform push-up, rotate to other side",
                        "Keep core tight throughout"
                    ]
                },
                {
                    name: "Turkish Get-ups",
                    instructions: [
                        "Lie on back with weight in one hand, arm extended",
                        "Follow sequence: roll to elbow, to hand, to kneeling, to standing",
                        "Reverse the movement to return to lying",
                        "Keep eyes on weight throughout",
                        "Start very light to learn movement pattern"
                    ]
                },
                {
                    name: "Mountain Climbers",
                    instructions: [
                        "Start in plank position",
                        "Alternate bringing knees toward chest rapidly",
                        "Keep hips level, core engaged",
                        "Maintain plank position in upper body"
                    ]
                }
            ]
        };

        // Complete Workout Plans from my_exercise_plan.md
        const workoutData = {
            completeWorkouts: {
                homeRoutineA: {
                    name: "Routine A: Glute Activation & Lower Body Strength",
                    type: "home",
                    duration: "15 minutes",
                    frequency: "5-7x per week", 
                    focus: "Hamstring/knee pain prevention, glute activation",
                    sections: [
                        {
                            name: "Warm-up",
                            duration: "2 minutes",
                            exercises: [
                                { name: "Cat-Cow Stretches", reps: "x 10", type: "home", hasDescription: true },
                                { name: "Hip Circles", reps: "x 5 each direction", type: "home", hasDescription: true },
                                { name: "Glute Bridges", reps: "x 10", type: "home", hasDescription: true }
                            ]
                        },
                        {
                            name: "Main Circuit",
                            duration: "10 minutes",
                            rounds: "3 rounds",
                            exercises: [
                                { name: "Banded Clamshells", reps: "x 12 each side", type: "home", hasDescription: true },
                                { name: "Single-leg Glute Bridges", reps: "x 8 each side", type: "home", hasDescription: true },
                                { name: "Goblet Squats", reps: "x 12", equipment: "10kg kettlebell", type: "home", hasDescription: true },
                                { name: "Lateral Lunges", reps: "x 6 each side", equipment: "bodyweight or light KB", type: "home", hasDescription: true },
                                { name: "Deep Squat Hold", reps: "x 30 seconds", type: "home", hasDescription: true }
                            ]
                        },
                        {
                            name: "Mobility Finisher",
                            duration: "3 minutes",
                            exercises: [
                                { name: "90/90 Hip Stretch", reps: "x 30 seconds each side", type: "home", hasDescription: true },
                                { name: "Hamstring Stretch", reps: "x 30 seconds each leg", type: "home", hasDescription: true },
                                { name: "Deep Resting Squat", reps: "x 60 seconds", type: "home", hasDescription: true }
                            ]
                        }
                    ]
                },
                homeRoutineB: {
                    name: "Routine B: Upper Body & Posture Correction",
                    type: "home",
                    duration: "15 minutes", 
                    frequency: "5-7x per week",
                    focus: "Neck/upper trap tension, postural strength",
                    sections: [
                        {
                            name: "Warm-up",
                            duration: "2 minutes",
                            exercises: [
                                { name: "Arm Circles", reps: "x 10 each direction", type: "home", hasDescription: true },
                                { name: "Neck Rolls", reps: "x 5 each direction", type: "home", hasDescription: true },
                                { name: "Wall Slides", reps: "x 10", type: "home", hasDescription: true }
                            ]
                        },
                        {
                            name: "Main Circuit", 
                            duration: "10 minutes",
                            rounds: "3 rounds",
                            exercises: [
                                { name: "Band Pull-aparts", reps: "x 15", type: "home", hasDescription: true },
                                { name: "Kettlebell Swings", reps: "x 15", type: "home", hasDescription: true },
                                { name: "Push-ups", reps: "x 8-12", note: "modify as needed", type: "home", hasDescription: true },
                                { name: "Bear Crawl", reps: "x 10 steps forward/back", type: "home", hasDescription: true },
                                { name: "Dead Hangs", reps: "x 15-30 seconds", type: "home", hasDescription: true }
                            ]
                        },
                        {
                            name: "Mobility Finisher",
                            duration: "3 minutes", 
                            exercises: [
                                { name: "Doorway Chest Stretch", reps: "x 30 seconds each arm", type: "home", hasDescription: true },
                                { name: "Upper Trap Stretch", reps: "x 30 seconds each side", type: "home", hasDescription: true },
                                { name: "Thoracic Spine Rotation", reps: "x 10 each side", type: "home", hasDescription: true }
                            ]
                        }
                    ]
                },
                homeRoutineC: {
                    name: "Routine C: Explosive & Rotational Movement",
                    type: "home",
                    duration: "15 minutes",
                    frequency: "5-7x per week",
                    focus: "Plyometrics, rotational strength, animal movement",
                    sections: [
                        {
                            name: "Warm-up",
                            duration: "2 minutes",
                            exercises: [
                                { name: "Arm Swings", reps: "x 10 each direction", type: "home", hasDescription: true },
                                { name: "Leg Swings", reps: "x 10 each direction", type: "home", hasDescription: true },
                                { name: "Bodyweight Squats", reps: "x 10", type: "home", hasDescription: true }
                            ]
                        },
                        {
                            name: "Main Circuit",
                            duration: "10 minutes", 
                            rounds: "3 rounds",
                            exercises: [
                                { name: "Kettlebell Swings", reps: "x 20", note: "explosive", type: "home", hasDescription: true },
                                { name: "Jump Squats", reps: "x 8-10", type: "home", hasDescription: true },
                                { name: "Crab Walks", reps: "x 10 steps each direction", type: "home", hasDescription: true },
                                { name: "Russian Twists", reps: "x 20", equipment: "with or without KB", type: "home", hasDescription: true },
                                { name: "Plank to Downward Dog", reps: "x 10", type: "home", hasDescription: true }
                            ]
                        },
                        {
                            name: "Mobility Finisher",
                            duration: "3 minutes",
                            exercises: [
                                { name: "Hip Flexor Stretch", reps: "x 30 seconds each side", type: "home", hasDescription: true },
                                { name: "Seated Spinal Twist", reps: "x 30 seconds each side", type: "home", hasDescription: true },
                                { name: "Child's Pose to Cobra Flow", reps: "x 5", type: "home", hasDescription: true }
                            ]
                        }
                    ]
                },
                gymSession1: {
                    name: "Session 1: Lower Body Power & Posterior Chain",
                    type: "gym",
                    duration: "45-50 minutes",
                    frequency: "2-3x per week",
                    focus: "Heavy lifting, glute activation, hamstring strength",
                    sections: [
                        {
                            name: "Warm-up",
                            duration: "5 minutes",
                            exercises: [
                                { name: "Leg Swings", reps: "x 30 seconds each direction", type: "gym", hasDescription: true },
                                { name: "Hip Circles", reps: "x 30 seconds each direction", type: "gym", hasDescription: true },
                                { name: "Bodyweight Squats", reps: "x 45 seconds", type: "gym", hasDescription: true },
                                { name: "Walking High Knees", reps: "x 45 seconds", type: "gym", hasDescription: true },
                                { name: "Arm Circles", reps: "x 15 seconds forward, 15 seconds backward", type: "gym", hasDescription: true },
                                { name: "Torso Twists", reps: "x 15 seconds", type: "gym", hasDescription: true },
                                { name: "Inchworms", reps: "x 15 seconds", type: "gym", hasDescription: true }
                            ]
                        },
                        {
                            name: "Main Session",
                            duration: "35-40 minutes",
                            exercises: [
                                { name: "Romanian Deadlifts (RDLs)", sets: "4 sets", reps: "x 6-8 reps", intensity: "heavy", type: "gym", hasDescription: true },
                                { name: "Bulgarian Split Squats", sets: "3 sets", reps: "x 8 each leg", type: "gym", hasDescription: true },
                                { name: "Hip Thrusts", sets: "4 sets", reps: "x 10-12 reps", type: "gym", hasDescription: true },
                                { name: "Walking Lunges", sets: "3 sets", reps: "x 12 each leg", type: "gym", hasDescription: true },
                                { name: "Single-leg RDL", sets: "3 sets", reps: "x 6 each leg", type: "gym", hasDescription: true },
                                { name: "Calf Raises", sets: "3 sets", reps: "x 15", type: "gym", hasDescription: true }
                            ]
                        },
                        {
                            name: "Plyometric Finisher",
                            duration: "5 minutes",
                            exercises: [
                                { name: "Box Step-ups with Knee Drive", reps: "x 8 each leg x 2 sets", type: "gym", hasDescription: true },
                                { name: "Lateral Bounds", reps: "x 6 each side x 2 sets", type: "gym", hasDescription: true }
                            ]
                        },
                        {
                            name: "Cool-down",
                            duration: "5 minutes",
                            exercises: [
                                { name: "Pigeon Pose", reps: "x 30 seconds each side", type: "gym", hasDescription: true },
                                { name: "Hamstring Stretch", reps: "x 30 seconds each leg", type: "gym", hasDescription: true },
                                { name: "Hip Flexor Stretch", reps: "x 30 seconds each side", type: "gym", hasDescription: true }
                            ]
                        }
                    ]
                },
                gymSession2: {
                    name: "Session 2: Upper Body Strength & Posture",
                    type: "gym",
                    duration: "45-50 minutes",
                    frequency: "2-3x per week",
                    focus: "Heavy pulling, postural muscles, overhead strength",
                    sections: [
                        {
                            name: "Warm-up",
                            duration: "5 minutes",
                            exercises: [
                                { name: "Arm Circles", reps: "x 10 each direction", type: "gym", hasDescription: true },
                                { name: "Band Pull-aparts", reps: "x 15 warm-up sets", type: "gym", hasDescription: true },
                                { name: "Wall Slides", reps: "x 10", type: "gym", hasDescription: true },
                                { name: "Torso Twists", reps: "x 15 seconds", type: "gym", hasDescription: true }
                            ]
                        },
                        {
                            name: "Main Session",
                            duration: "35-40 minutes",
                            exercises: [
                                { name: "Deadlifts", sets: "4 sets", reps: "x 5 reps", intensity: "heavy", type: "gym", hasDescription: true },
                                { name: "Pull-ups/Lat Pulldowns", sets: "4 sets", reps: "x 6-10 reps", type: "gym", hasDescription: true },
                                { name: "Overhead Press", sets: "4 sets", reps: "x 6-8 reps", type: "gym", hasDescription: true },
                                { name: "Bent-over Rows", sets: "4 sets", reps: "x 8-10 reps", type: "gym", hasDescription: true },
                                { name: "Face Pulls", sets: "3 sets", reps: "x 15", type: "gym", hasDescription: true },
                                { name: "Farmer's Walks", sets: "3 sets", reps: "x 30 seconds", type: "gym", hasDescription: true }
                            ]
                        },
                        {
                            name: "Core & Stability",
                            duration: "5 minutes",
                            exercises: [
                                { name: "Plank Variations", reps: "x 2 one minute holds", type: "gym", hasDescription: true },
                                { name: "Bird Dogs", reps: "x 10 each side x 2 sets", type: "gym", hasDescription: true }
                            ]
                        },
                        {
                            name: "Cool-down",
                            duration: "5 minutes",
                            exercises: [
                                { name: "Doorway Chest Stretch", reps: "x 30 seconds each arm", type: "gym", hasDescription: true },
                                { name: "Corner Wall Stretch", reps: "x 30 seconds", type: "gym", hasDescription: true },
                                { name: "Clasped Hands Behind Back", reps: "x 30 seconds", type: "gym", hasDescription: true },
                                { name: "Cross-Body Arm Stretch", reps: "x 30 seconds each arm", type: "gym", hasDescription: true },
                                { name: "Upper Trap Stretch", reps: "x 30 seconds each side", type: "gym", hasDescription: true },
                                { name: "Quadruped Thoracic Rotation", reps: "x 5 each side", type: "gym", hasDescription: true },
                                { name: "Cat-Cow Thoracic Focus", reps: "x 5", type: "gym", hasDescription: true },
                                { name: "Open Book Stretch", reps: "x 30 seconds each side", type: "gym", hasDescription: true }
                            ]
                        }
                    ]
                },
                gymSession3: {
                    name: "Session 3: Full Body Power",
                    type: "gym",
                    duration: "45-50 minutes",
                    frequency: "Optional 3rd session",
                    focus: "Compound movements, explosive training",
                    sections: [
                        {
                            name: "Warm-up",
                            duration: "5 minutes",
                            exercises: [
                                { name: "Arm Circles", reps: "x 10 each direction", type: "gym", hasDescription: true },
                                { name: "Leg Swings", reps: "x 30 seconds each direction", type: "gym", hasDescription: true },
                                { name: "Torso Twists", reps: "x 15 seconds", type: "gym", hasDescription: true },
                                { name: "Inchworms", reps: "x 15 seconds", type: "gym", hasDescription: true }
                            ]
                        },
                        {
                            name: "Main Session",
                            duration: "35-40 minutes",
                            exercises: [
                                { name: "Clean & Press", sets: "5 sets", reps: "x 3 reps", type: "gym", hasDescription: true },
                                { name: "Front Squats", sets: "4 sets", reps: "x 6 reps", type: "gym", hasDescription: true },
                                { name: "Push-ups to T", sets: "3 sets", reps: "x 8 each side", type: "gym", hasDescription: true },
                                { name: "Kettlebell Swings", sets: "4 sets", reps: "x 20", type: "gym", hasDescription: true },
                                { name: "Turkish Get-ups", sets: "3 sets", reps: "x 3 each side", type: "gym", hasDescription: true },
                                { name: "Mountain Climbers", sets: "3 sets", reps: "x 20", type: "gym", hasDescription: true }
                            ]
                        },
                        {
                            name: "Cool-down",
                            duration: "5 minutes",
                            exercises: [
                                { name: "Overhead Shoulder Stretch", reps: "x 30 seconds each arm", type: "gym", hasDescription: true },
                                { name: "Cross-Body Arm Stretch", reps: "x 30 seconds each arm", type: "gym", hasDescription: true },
                                { name: "Doorway Chest Stretch", reps: "x 30 seconds", type: "gym", hasDescription: true },
                                { name: "Hip Flexor Stretch", reps: "x 30 seconds each side", type: "gym", hasDescription: true },
                                { name: "Standing Quad Stretch", reps: "x 30 seconds each leg", type: "gym", hasDescription: true },
                                { name: "Standing Forward Fold with Bent Knees", reps: "x 30 seconds", type: "gym", hasDescription: true },
                                { name: "Standing Figure-4 Hip Stretch", reps: "x 30 seconds each side", type: "gym", hasDescription: true },
                                { name: "Seated Spinal Twist", reps: "x 30 seconds each side", type: "gym", hasDescription: true }
                            ]
                        }
                    ]
                }
            }
        };

        const WorkoutTracker = () => {
            const [workouts, setWorkouts] = useState([]);
            const [activeTab, setActiveTab] = useState('today');
            const [showWorkoutModal, setShowWorkoutModal] = useState(false);
            const [selectedExercise, setSelectedExercise] = useState(null);
            const [selectedWorkout, setSelectedWorkout] = useState(null);
            const [showExerciseDetails, setShowExerciseDetails] = useState(false);

            // localStorage integration
            useEffect(() => {
                try {
                    const saved = localStorage.getItem('workouts');
                    if (saved) setWorkouts(JSON.parse(saved));
                } catch (e) {
                    console.log('Storage error:', e);
                }
            }, []);

            useEffect(() => {
                try {
                    localStorage.setItem('workouts', JSON.stringify(workouts));
                } catch (e) {
                    console.log('Storage error:', e);
                }
            }, [workouts]);

            const addWorkout = (name, type = 'home') => {
                const newWorkout = {
                    id: Date.now(),
                    name,
                    type,
                    date: new Date().toISOString().split('T')[0],
                    completed: true
                };
                setWorkouts([...workouts, newWorkout]);
                setShowWorkoutModal(false);
            };

            const deleteWorkout = (workoutId) => {
                setWorkouts(workouts.filter(workout => workout.id !== workoutId));
            };

            // Audit function to find missing exercise descriptions
            const auditMissingDescriptions = () => {
                const missing = [];
                Object.values(workoutData.completeWorkouts).forEach(workout => {
                    workout.sections.forEach(section => {
                        section.exercises.forEach(exercise => {
                            if (!exercise.hasDescription) {
                                missing.push({
                                    workout: workout.name,
                                    section: section.name,
                                    exercise: exercise.name,
                                    type: exercise.type,
                                    reps: exercise.reps
                                });
                            }
                        });
                    });
                });
                return missing;
            };

            // Log missing descriptions for development (uncomment if needed)
            // console.log("Missing Exercise Descriptions:", auditMissingDescriptions());

            // Helper function to get exercise description from exerciseGuide
            const getExerciseDescription = (exerciseName) => {
                try {
                    const allExercises = [
                        ...exerciseGuide.warmup,
                        ...exerciseGuide.routineA,
                        ...exerciseGuide.routineB, 
                        ...exerciseGuide.routineC,
                        ...exerciseGuide.gymLower,
                        ...exerciseGuide.gymUpper,
                        ...exerciseGuide.gymPower
                    ];
                    return allExercises.find(ex => ex.name === exerciseName) || null;
                } catch (error) {
                    console.warn(`Error finding description for exercise: ${exerciseName}`, error);
                    return null;
                }
            };

            const todaysWorkouts = workouts.filter(w => 
                w.date === new Date().toISOString().split('T')[0]
            );

            return (
                <div className="max-w-md mx-auto bg-gray-50 min-h-screen">
                    {/* Header */}
                    <div className="bg-blue-600 text-white p-4">
                        <h1 className="text-xl font-bold">Workout Tracker</h1>
                        <p className="text-blue-100 text-sm">Simple & Reliable</p>
                    </div>

                    {/* Navigation */}
                    <div className="bg-white border-b grid grid-cols-3">
                        <button
                            onClick={() => setActiveTab('today')}
                            className={`py-3 px-4 text-sm font-medium ${
                                activeTab === 'today' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-600'
                            }`}
                        >
                            Today
                        </button>
                        <button
                            onClick={() => setActiveTab('reference')}
                            className={`py-3 px-4 text-sm font-medium ${
                                activeTab === 'reference' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-600'
                            }`}
                        >
                            Reference
                        </button>
                        <button
                            onClick={() => setActiveTab('history')}
                            className={`py-3 px-4 text-sm font-medium ${
                                activeTab === 'history' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-600'
                            }`}
                        >
                            History
                        </button>
                    </div>

                    {/* Content */}
                    <div className="p-4">
                        {activeTab === 'today' && (
                            <div className="space-y-6">
                                <div className="flex justify-between items-center">
                                    <h2 className="text-xl font-semibold">Today's Workouts</h2>
                                    <button
                                        onClick={() => setShowWorkoutModal(true)}
                                        className="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600"
                                    >
                                        Add Workout
                                    </button>
                                </div>

                                {todaysWorkouts.length === 0 ? (
                                    <div className="text-center py-8 text-gray-500">
                                        <div className="text-4xl mb-4">💪</div>
                                        <p>No workouts logged today</p>
                                        <p className="text-sm">Click "Add Workout" to start!</p>
                                    </div>
                                ) : (
                                    <div className="space-y-3">
                                        {todaysWorkouts.map(workout => (
                                            <div key={workout.id} className="bg-white border rounded-lg p-4">
                                                <div className="flex items-center justify-between">
                                                    <div className="flex items-center gap-3">
                                                        <span className="text-green-500 text-xl">✓</span>
                                                        <div>
                                                            <div className="font-medium">{workout.name}</div>
                                                            <div className="text-sm text-gray-600">{workout.type === 'home' ? '🏠 Home' : '🏋️ Gym'}</div>
                                                        </div>
                                                    </div>
                                                    <button
                                                        onClick={() => deleteWorkout(workout.id)}
                                                        className="text-red-500 hover:text-red-700 p-1"
                                                        title="Delete workout"
                                                    >
                                                        🗑️
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}

                                {/* My Personal Plan */}
                                <div className="bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg p-4 mb-6">
                                    <h3 className="text-lg font-semibold mb-2">🎯 Your Workout Plan</h3>
                                    <div className="text-sm">
                                        <strong>Goal:</strong> 5-7 home workouts + 1-2 gym sessions per week<br/>
                                        <strong>Focus:</strong> Glute activation, posture correction, hormonal health
                                    </div>
                                </div>

                                {/* Structured Routines */}
                                <div>
                                    <h3 className="text-lg font-semibold mb-3">Today's Options</h3>
                                    <div className="space-y-3">
                                        <button
                                            onClick={() => addWorkout('Routine A: Glute Activation & Lower Body', 'home')}
                                            className="w-full text-left p-4 border-2 border-blue-200 rounded-lg hover:bg-blue-50"
                                        >
                                            <div className="flex items-center gap-2 mb-2">
                                                <span className="bg-blue-500 text-white px-2 py-1 rounded text-xs font-bold">A</span>
                                                <div className="font-medium text-blue-600">Glute Activation & Lower Body</div>
                                            </div>
                                            <div className="text-sm text-gray-600">25-30 min • Clamshells, goblet squats, lateral lunges</div>
                                            <div className="text-xs text-gray-500 mt-1">Perfect for strength building & hormonal health</div>
                                        </button>
                                        
                                        <button
                                            onClick={() => addWorkout('Routine B: Upper Body & Posture', 'home')}
                                            className="w-full text-left p-4 border-2 border-green-200 rounded-lg hover:bg-green-50"
                                        >
                                            <div className="flex items-center gap-2 mb-2">
                                                <span className="bg-green-500 text-white px-2 py-1 rounded text-xs font-bold">B</span>
                                                <div className="font-medium text-green-600">Upper Body & Posture</div>
                                            </div>
                                            <div className="text-sm text-gray-600">20-25 min • Wall slides, band pull-aparts, swings</div>
                                            <div className="text-xs text-gray-500 mt-1">Combat desk posture & strengthen shoulders</div>
                                        </button>

                                        <button
                                            onClick={() => addWorkout('Routine C: Explosive & Rotational', 'home')}
                                            className="w-full text-left p-4 border-2 border-purple-200 rounded-lg hover:bg-purple-50"
                                        >
                                            <div className="flex items-center gap-2 mb-2">
                                                <span className="bg-purple-500 text-white px-2 py-1 rounded text-xs font-bold">C</span>
                                                <div className="font-medium text-purple-600">Explosive & Rotational</div>
                                            </div>
                                            <div className="text-sm text-gray-600">15-20 min • Jump squats, russian twists, bear crawls</div>
                                            <div className="text-xs text-gray-500 mt-1">High intensity for bone density & power</div>
                                        </button>

                                        <div className="pt-2 border-t">
                                            <button
                                                onClick={() => addWorkout('Gym Session: Lower Body Focus', 'gym')}
                                                className="w-full text-left p-4 border-2 border-orange-200 rounded-lg hover:bg-orange-50"
                                            >
                                                <div className="flex items-center gap-2 mb-2">
                                                    <span className="bg-orange-500 text-white px-2 py-1 rounded text-xs font-bold">GYM</span>
                                                    <div className="font-medium text-orange-600">Lower Body Focus</div>
                                                </div>
                                                <div className="text-sm text-gray-600">45-60 min • RDLs, hip thrusts, split squats, lunges</div>
                                                <div className="text-xs text-gray-500 mt-1">Target glutes, hamstrings, and leg strength</div>
                                            </button>
                                            
                                            <button
                                                onClick={() => addWorkout('Gym Session: Upper Body Focus', 'gym')}
                                                className="w-full text-left p-4 border-2 border-orange-200 rounded-lg hover:bg-orange-50 mt-2"
                                            >
                                                <div className="flex items-center gap-2 mb-2">
                                                    <span className="bg-orange-500 text-white px-2 py-1 rounded text-xs font-bold">GYM</span>
                                                    <div className="font-medium text-orange-600">Upper Body Focus</div>
                                                </div>
                                                <div className="text-sm text-gray-600">45-60 min • Deadlifts, pull-ups, rows, overhead press</div>
                                                <div className="text-xs text-gray-500 mt-1">Build back strength and improve posture</div>
                                            </button>
                                            
                                            <button
                                                onClick={() => addWorkout('Gym Session: Power & Explosive', 'gym')}
                                                className="w-full text-left p-4 border-2 border-orange-200 rounded-lg hover:bg-orange-50 mt-2"
                                            >
                                                <div className="flex items-center gap-2 mb-2">
                                                    <span className="bg-orange-500 text-white px-2 py-1 rounded text-xs font-bold">GYM</span>
                                                    <div className="font-medium text-orange-600">Power & Explosive</div>
                                                </div>
                                                <div className="text-sm text-gray-600">45-60 min • Clean & press, front squats, Turkish get-ups</div>
                                                <div className="text-xs text-gray-500 mt-1">Advanced movements for athleticism</div>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {activeTab === 'history' && (
                            <div className="space-y-6">
                                <h2 className="text-xl font-semibold">Progress & Analytics</h2>
                                
                                {workouts.length === 0 ? (
                                    <div className="text-center py-8 text-gray-500">
                                        <div className="text-4xl mb-4">📊</div>
                                        <p>No workout data yet</p>
                                        <p className="text-sm">Complete some workouts to see your progress!</p>
                                    </div>
                                ) : (
                                    <div className="space-y-6">
                                        {/* Weekly Stats */}
                                        <div className="bg-white border rounded-lg p-4">
                                            <h3 className="font-semibold mb-3">This Week's Progress</h3>
                                            <div className="text-center">
                                                <div className="text-3xl font-bold text-blue-600">
                                                    {workouts.filter(w => {
                                                        const workoutDate = new Date(w.date);
                                                        const weekAgo = new Date();
                                                        weekAgo.setDate(weekAgo.getDate() - 7);
                                                        return workoutDate >= weekAgo;
                                                    }).length}
                                                </div>
                                                <div className="text-sm text-gray-600">Workouts This Week</div>
                                            </div>
                                        </div>

                                        {/* Routine Distribution */}
                                        <div className="bg-white border rounded-lg p-4">
                                            <h3 className="font-semibold mb-3">Routine Balance</h3>
                                            <div className="space-y-2">
                                                {['Routine A', 'Routine B', 'Routine C', 'Gym'].map(routineType => {
                                                    const count = workouts.filter(w => w.name.includes(routineType) || 
                                                        (routineType === 'Gym' && w.type === 'gym')).length;
                                                    const percentage = workouts.length > 0 ? Math.round(count / workouts.length * 100) : 0;
                                                    return (
                                                        <div key={routineType} className="flex items-center gap-3">
                                                            <div className="w-16 text-sm">{routineType}</div>
                                                            <div className="flex-1 bg-gray-200 rounded-full h-2">
                                                                <div 
                                                                    className="bg-blue-500 h-2 rounded-full transition-all duration-300"
                                                                    style={{width: `${percentage}%`}}
                                                                ></div>
                                                            </div>
                                                            <div className="text-sm text-gray-600 w-12">{count}x</div>
                                                        </div>
                                                    );
                                                })}
                                            </div>
                                        </div>

                                        {/* Recent Activity */}
                                        <div className="bg-white border rounded-lg p-4">
                                            <h3 className="font-semibold mb-3">Recent Activity</h3>
                                            <div className="space-y-3">
                                                {workouts
                                                    .sort((a, b) => new Date(b.date) - new Date(a.date))
                                                    .slice(0, 8)
                                                    .map(workout => (
                                                        <div key={workout.id} className="flex items-center justify-between py-2 border-b border-gray-100 last:border-0">
                                                            <div>
                                                                <div className="font-medium text-sm">{workout.name}</div>
                                                                <div className="text-xs text-gray-600">
                                                                    {new Date(workout.date).toLocaleDateString()} • {workout.type === 'home' ? '🏠' : '🏋️'}
                                                                </div>
                                                            </div>
                                                            <span className="text-green-500">✓</span>
                                                        </div>
                                                    ))}
                                            </div>
                                            
                                            {workouts.length > 8 && (
                                                <div className="text-center mt-3 pt-3 border-t">
                                                    <button className="text-blue-500 text-sm hover:underline">
                                                        View All {workouts.length} Workouts
                                                    </button>
                                                </div>
                                            )}
                                        </div>

                                        {/* Motivational Insights */}
                                        <div className="bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg p-4">
                                            <h3 className="font-semibold mb-2">💪 Your Progress</h3>
                                            <div className="text-sm">
                                                {workouts.length >= 20 ? 
                                                    "Amazing consistency! You're building serious strength and healthy habits. Keep crushing those fitness goals!" :
                                                workouts.length >= 10 ? 
                                                    "Great momentum! You're developing a strong fitness routine. Your future self will thank you!" :
                                                workouts.length >= 5 ? 
                                                    "Solid start! You're on the right path to better health and strength." :
                                                    "Every workout counts! You're taking important steps toward better health."}
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}

                        {activeTab === 'reference' && (
                            <div className="space-y-4">
                                <div className="flex justify-between items-center">
                                    <h2 className="text-xl font-semibold">Complete Workout Library</h2>
                                    {selectedWorkout && (
                                        <button
                                            onClick={() => setSelectedWorkout(null)}
                                            className="text-sm px-3 py-1 bg-gray-100 rounded-lg hover:bg-gray-200"
                                        >
                                            ← Back to All Workouts
                                        </button>
                                    )}
                                </div>

                                {!selectedWorkout ? (
                                    /* Workout Selection Grid */
                                    <div className="space-y-6">
                                        {/* Home Routines */}
                                        <div>
                                            <h3 className="text-lg font-semibold mb-3 text-blue-600">🏠 Home Routines (15 minutes each)</h3>
                                            <div className="grid gap-3">
                                                {Object.entries(workoutData.completeWorkouts).filter(([key, workout]) => workout.type === 'home').map(([key, workout]) => (
                                                    <button
                                                        key={key}
                                                        onClick={() => setSelectedWorkout(key)}
                                                        className="text-left p-4 border-2 border-blue-200 rounded-lg hover:bg-blue-50 transition-colors"
                                                    >
                                                        <div className="flex items-center gap-3 mb-2">
                                                            <span className="bg-blue-500 text-white px-2 py-1 rounded text-xs font-bold">
                                                                {key === 'homeRoutineA' ? 'A' : key === 'homeRoutineB' ? 'B' : 'C'}
                                                            </span>
                                                            <div className="font-medium text-blue-700">{workout.name}</div>
                                                        </div>
                                                        <div className="text-sm text-gray-600 mb-1">
                                                            <strong>Duration:</strong> {workout.duration} • <strong>Frequency:</strong> {workout.frequency}
                                                        </div>
                                                        <div className="text-xs text-gray-500">
                                                            <strong>Focus:</strong> {workout.focus}
                                                        </div>
                                                    </button>
                                                ))}
                                            </div>
                                        </div>

                                        {/* Gym Sessions */}
                                        <div>
                                            <h3 className="text-lg font-semibold mb-3 text-orange-600">🏋️ Gym Sessions (45-50 minutes each)</h3>
                                            <div className="grid gap-3">
                                                {Object.entries(workoutData.completeWorkouts).filter(([key, workout]) => workout.type === 'gym').map(([key, workout]) => (
                                                    <button
                                                        key={key}
                                                        onClick={() => setSelectedWorkout(key)}
                                                        className="text-left p-4 border-2 border-orange-200 rounded-lg hover:bg-orange-50 transition-colors"
                                                    >
                                                        <div className="flex items-center gap-3 mb-2">
                                                            <span className="bg-orange-500 text-white px-2 py-1 rounded text-xs font-bold">
                                                                {key === 'gymSession1' ? '1' : key === 'gymSession2' ? '2' : '3'}
                                                            </span>
                                                            <div className="font-medium text-orange-700">{workout.name}</div>
                                                        </div>
                                                        <div className="text-sm text-gray-600 mb-1">
                                                            <strong>Duration:</strong> {workout.duration} • <strong>Frequency:</strong> {workout.frequency}
                                                        </div>
                                                        <div className="text-xs text-gray-500">
                                                            <strong>Focus:</strong> {workout.focus}
                                                        </div>
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                ) : (
                                    /* Selected Workout Details */
                                    <div className="space-y-6">
                                        {(() => {
                                            const workout = workoutData.completeWorkouts[selectedWorkout];
                                            return (
                                                <div>
                                                    {/* Workout Header */}
                                                    <div className={`p-4 rounded-lg ${workout.type === 'home' ? 'bg-blue-50 border-blue-200' : 'bg-orange-50 border-orange-200'} border-2`}>
                                                        <div className="flex items-center gap-3 mb-2">
                                                            <span className={`${workout.type === 'home' ? 'bg-blue-500' : 'bg-orange-500'} text-white px-3 py-1 rounded text-sm font-bold`}>
                                                                {workout.type === 'home' ? '🏠 HOME' : '🏋️ GYM'}
                                                            </span>
                                                            <h3 className={`text-lg font-semibold ${workout.type === 'home' ? 'text-blue-700' : 'text-orange-700'}`}>
                                                                {workout.name}
                                                            </h3>
                                                        </div>
                                                        <div className="text-sm text-gray-700 space-y-1">
                                                            <div><strong>Duration:</strong> {workout.duration}</div>
                                                            <div><strong>Frequency:</strong> {workout.frequency}</div>
                                                            <div><strong>Focus:</strong> {workout.focus}</div>
                                                        </div>
                                                    </div>

                                                    {/* Workout Sections */}
                                                    <div className="space-y-4">
                                                        {workout.sections.map((section, sectionIndex) => (
                                                            <div key={sectionIndex} className="bg-white border rounded-lg p-4">
                                                                <div className="flex justify-between items-center mb-3">
                                                                    <h4 className="font-semibold text-gray-800">{section.name}</h4>
                                                                    <span className="text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded">
                                                                        {section.duration}
                                                                    </span>
                                                                </div>
                                                                
                                                                <div className="space-y-2">
                                                                    {section.exercises.map((exercise, exerciseIndex) => (
                                                                        <div key={exerciseIndex} className="border-l-4 border-gray-200 pl-4">
                                                                            <div className="flex justify-between items-start">
                                                                                <div className="flex-1">
                                                                                    <button
                                                                                        onClick={() => {
                                                                                            const description = getExerciseDescription(exercise.name);
                                                                                            if (description) {
                                                                                                setSelectedExercise(selectedExercise === exercise.name ? null : exercise.name);
                                                                                            }
                                                                                        }}
                                                                                        className="text-left w-full hover:bg-gray-50 p-2 rounded transition-colors"
                                                                                    >
                                                                                        <div className="font-medium text-gray-800">{exercise.name}</div>
                                                                                        <div className="text-sm text-gray-600">
                                                                                            {exercise.sets && <span className="font-medium">{exercise.sets} • </span>}
                                                                                            {exercise.reps}
                                                                                            {exercise.intensity && <span className="ml-2 text-xs bg-red-100 text-red-700 px-1 rounded">({exercise.intensity})</span>}
                                                                                        </div>
                                                                                    </button>
                                                                                    
                                                                                    {selectedExercise === exercise.name && (() => {
                                                                                        const description = getExerciseDescription(exercise.name);
                                                                                        return description ? (
                                                                                            <div className="mt-2 p-3 bg-blue-50 rounded border-l-4 border-blue-300">
                                                                                                <div className="text-sm font-medium text-blue-800 mb-2">How to perform:</div>
                                                                                                <div className="text-sm text-blue-700 space-y-1">
                                                                                                    {description.instructions.map((instruction, i) => (
                                                                                                        <div key={i}>• {instruction}</div>
                                                                                                    ))}
                                                                                                </div>
                                                                                            </div>
                                                                                        ) : null;
                                                                                    })()}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    ))}
                                                                </div>
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>
                                            );
                                        })()}
                                    </div>
                                )}
                            </div>
                        )}

                    </div>

                    {/* Enhanced Custom Workout Modal */}
                    {showWorkoutModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
                            <div className="bg-white rounded-lg p-6 max-w-md w-full max-h-96 overflow-y-auto">
                                <h3 className="text-lg font-semibold mb-4">Create Custom Workout</h3>
                                
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-2">Workout Name</label>
                                        <input
                                            type="text"
                                            placeholder="My Custom Workout"
                                            className="w-full p-3 border rounded-lg"
                                            id="workoutName"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium mb-2">Location</label>
                                        <div className="flex gap-2">
                                            <button className="flex-1 p-2 border rounded-lg bg-blue-50 border-blue-200">🏠 Home</button>
                                            <button className="flex-1 p-2 border rounded-lg hover:bg-gray-50">🏋️ Gym</button>
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium mb-2">Select Exercises</label>
                                        <div className="space-y-2 max-h-32 overflow-y-auto">
                                            {[...exerciseGuide.warmup, ...exerciseGuide.routineA, ...exerciseGuide.routineB].map(exercise => (
                                                <label key={exercise.name} className="flex items-center gap-2 p-2 hover:bg-gray-50 rounded">
                                                    <input type="checkbox" className="rounded" />
                                                    <span className="text-sm">{exercise.name}</span>
                                                </label>
                                            ))}
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium mb-2">Duration (minutes)</label>
                                        <input
                                            type="number"
                                            placeholder="30"
                                            className="w-full p-3 border rounded-lg"
                                            min="5"
                                            max="120"
                                        />
                                    </div>
                                    
                                    <div className="flex gap-3">
                                        <button
                                            onClick={() => setShowWorkoutModal(false)}
                                            className="flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50"
                                        >
                                            Cancel
                                        </button>
                                        <button
                                            onClick={() => {
                                                const name = document.getElementById('workoutName').value.trim();
                                                if (name) {
                                                    addWorkout(name, 'home');
                                                }
                                            }}
                                            className="flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"
                                        >
                                            Create Workout
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        ReactDOM.render(<WorkoutTracker />, document.getElementById('root'));
    </script>
</body>
</html>
